#
# /etc/nginx-agent/nginx-agent.conf
#
# Configuration file for NGINX Agent.
#

log:
  # set log level (panic, fatal, error, info, debug, trace; default "info")
  level: debug
  # set log path. if empty, don't log to file.
  path: /var/log/nginx-agent/

watchers:
  instance_watcher:
    monitoring_frequency: 5s
  instance_health_watcher:
    monitoring_frequency: 5s

data_plane_config:
  nginx:
    reload_monitoring_period: 5s
    treat_warnings_as_error: true

config_dirs: "/etc/nginx:/usr/local/etc/nginx:/usr/share/nginx/modules:/var/run/nginx"

client:
  timeout: 10s

collector:
  receivers:
    host_metrics:
      collection_interval: 1m0s
      initial_delay: 1s
      scrapers: 
        cpu:
        disk:
        filesystem:
        memory:
        network:
  processors:
    - type: batch
  exporters:
    - type: otlp
      server:
        host: "otel-collector"
        port: 4317
        type: 0
  health:
    host: "127.0.0.1"
    port: 1337
    type: 0
