---
docs: 
---

{{<bootstrap-table "table table-striped table-bordered table-responsive">}}

| Environment variable                 | Description                              |
| ------------------------------------ | ---------------------------------------- |
| *NMS_API_CERT*                       | The cert used by the Agent API. |
| *NMS_API_HOST*                       | The host used by the Agent API. (default "127.0.0.1") |
| *NMS_API_KEY*                        | The key used by the Agent API. |
| *NMS_API_PORT*                       | The desired port to use for nginx-agent to expose for HTTP traffic. |
| *NMS_CONFIG_DIRS*                    | Defines the paths that you want to grant nginx-agent read/write access to. This key is formatted as a string and follows Unix PATH format. (default "/etc/nginx:/usr/local/etc/nginx:/usr/share/nginx/modules:/etc/nms") |
| *NMS_DATAPLANE_REPORT_INTERVAL*      | The amount of time the agent will report on the dataplane. After this period of time it will send a snapshot of the dataplane information. (default 24h0m0s) |
| *NMS_DATAPLANE_STATUS_POLL_INTERVAL* | The frequency the agent will check the dataplane for changes. Used as a "heartbeat" to keep the gRPC connections alive. (default 30s) |
| *NMS_DISPLAY_NAME*                   | The instance's 'name' value. |  
| *NMS_FEATURES*                       | A comma-separated list of features enabled for the agent. (default [registration,nginx-config-async,nginx-ssl-config,nginx-counting,metrics,dataplane-status,process-watcher,file-watcher,activity-events,agent-api]) |
| *NMS_INSTANCE_GROUP*                 | The instance's 'group' value. |
| *NMS_LOG_LEVEL*                      |  The desired verbosity level for logging messages from nginx-agent. Available options, in order of severity from highest to lowest, are: panic, fatal, error, info, debug, and trace. (default "info") |
| *NMS_LOG_PATH*                       | The path to output log messages to. If the default path doesn't exist, log messages are output to stdout/stderr.                             |
| *NMS_PATH*                           | The path for `nginx-agent.conf` |
| *NMS_METRICS_BULK_SIZE*              | The amount of metrics reports collected before sending the data back to the server. (default 20) |
| *NMS_METRICS_COLLECTION_INTERVAL*    | Sets the interval, in seconds, at which metrics are collected. (default 15s) |
| *NMS_METRICS_MODE*                   | Sets the desired metrics collection mode: streaming or aggregation. (default "aggregated") |
| *NMS_METRICS_REPORT_INTERVAL*        | The polling period specified for a single set of metrics being collected. (default 1m0s) |
| *NMS_NGINX_EXCLUDE_LOGS*             |  One or more NGINX access log paths that you want to exclude from metrics collection. This key is formatted as a string and multiple values should be provided as a comma-separated list. |
| *NMS_NGINX_SOCKET*                   | The NGINX Plus counting unix socket location. (default "unix:/var/run/nginx-agent/nginx.sock") |
| *NMS_NGINX_TREAT_WARNINGS_AS_ERRORS* | On nginx -t, treat warnings as failures on configuration application. |
| *NMS_QUEUE_SIZE*                     | The size of the NGINX Agent internal queue |
| *NMS_SERVER_COMMAND*                 | The name of the command server sent in the tls configuration. |
| *NMS_SERVER_GRPCPORT*                | The desired GRPC port to use for nginx-agent traffic. |
| *NMS_SERVER_HOST*                    | The IP address of the server host. IPv4 addresses and hostnames are supported. |
| *NMS_SERVER_METRICS*                 | The name of the metrics server sent in the tls configuration. |
| *NMS_SERVER_TOKEN*                   | An authentication token that grants nginx-agent access to the commander and metrics services. Auto-generated by default. (default "e202f883-54c6-4702-be15-3ba6e507879a") |
| *NMS_TAGS*                           | A comma-separated list of tags to add to the current instance or machine, to be used for inventory purposes. |
| *NMS_TLS_CA*                         | The path to the CA certificate file to use for TLS. |
| *NMS_TLS_CERT*                       | The path to the certificate file to use for TLS. |
| *NMS_TLS_ENABLE*                     | Enables TLS for secure communications. |
| *NMS_TLS_KEY*                        | The path to the certificate key file to use for TLS. |
| *NMS_TLS_SKIP_VERIFY*                | Only intended for demonstration, sets InsecureSkipVerify for gRPC TLS credentials |

{{</bootstrap-table>}}